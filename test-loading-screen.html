<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ”„ Loading Screen Demo - System Management</title>
    <link rel="stylesheet" href="css/styles.css">
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background: #f8fafc;
            color: #1f2937;
        }
        .demo-header {
            background: linear-gradient(135deg, #3b82f6 0%, #1e40af 100%);
            color: white;
            padding: 30px;
            border-radius: 12px;
            text-align: center;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }
        .demo-section {
            background: white;
            padding: 25px;
            border-radius: 12px;
            margin-bottom: 20px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
            border-left: 4px solid #3b82f6;
        }
        .demo-title {
            color: #3b82f6;
            font-size: 1.4em;
            font-weight: 600;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .demo-description {
            color: #6b7280;
            margin-bottom: 20px;
        }
        .demo-buttons {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        .demo-button {
            background: linear-gradient(135deg, #3b82f6 0%, #1e40af 100%);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 8px;
            font-size: 1em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
        }
        .demo-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(59, 130, 246, 0.3);
        }
        .demo-button.secondary {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
        }
        .demo-button.warning {
            background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
        }
        .demo-button.danger {
            background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
        }
        .info-box {
            background: #f0f9ff;
            border: 1px solid #0ea5e9;
            border-radius: 8px;
            padding: 15px;
            margin: 20px 0;
        }
        .info-box h4 {
            color: #0c4a6e;
            margin: 0 0 10px 0;
            font-size: 1.1em;
        }
        .info-box p {
            color: #075985;
            margin: 0;
            font-size: 0.9em;
        }
        .loading-info {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        .loading-status {
            background: #f8fafc;
            padding: 15px;
            border-radius: 8px;
            border: 1px solid #e2e8f0;
        }
        .status-title {
            font-weight: 600;
            color: #374151;
            margin-bottom: 5px;
        }
        .status-value {
            font-family: 'Courier New', monospace;
            background: #1f2937;
            color: #10b981;
            padding: 5px 10px;
            border-radius: 4px;
            font-size: 0.9em;
        }
        .controls-section {
            background: #fefce8;
            border: 2px solid #eab308;
            border-radius: 8px;
            padding: 20px;
            margin-top: 30px;
        }
    </style>
</head>
<body>
    <div class="demo-header">
        <h1>ğŸ”„ Loading Screen System Demo</h1>
        <p>Comprehensive testing of all loading states and animations</p>
    </div>

    <div class="demo-section">
        <div class="demo-title">
            ğŸ¯ Basic Loading Screens
        </div>
        <div class="demo-description">
            Test basic loading functionality with different configurations and timeouts.
        </div>
        
        <div class="demo-buttons">
            <button class="demo-button" onclick="testBasicLoading()">
                â³ Basic Loading
            </button>
            <button class="demo-button secondary" onclick="testQuickLoading()">
                âš¡ Quick Loading (3s)
            </button>
            <button class="demo-button" onclick="testCustomLoading()">
                ğŸ¨ Custom Loading
            </button>
            <button class="demo-button warning" onclick="testLongLoading()">
                â° Long Loading (8s)
            </button>
        </div>
    </div>

    <div class="demo-section">
        <div class="demo-title">
            ğŸ“Š Specialized Loading Screens
        </div>
        <div class="demo-description">
            Test specialized loading screens for specific use cases with step-by-step progress.
        </div>
        
        <div class="demo-buttons">
            <button class="demo-button secondary" onclick="testDataLoading()">
                ğŸ“Š Data Loading
            </button>
            <button class="demo-button" onclick="testFormSubmission()">
                ğŸ“ Form Submission
            </button>
            <button class="demo-button secondary" onclick="testAnalyticsLoading()">
                ğŸ“ˆ Analytics Loading
            </button>
            <button class="demo-button" onclick="testSimulatedProcess()">
                ğŸ”„ Simulated Process
            </button>
        </div>
    </div>

    <div class="demo-section">
        <div class="demo-title">
            ğŸ® Interactive Controls
        </div>
        <div class="demo-description">
            Control loading screens dynamically and test advanced features.
        </div>
        
        <div class="demo-buttons">
            <button class="demo-button warning" onclick="testProgressUpdate()">
                ğŸ“Š Progress Update
            </button>
            <button class="demo-button secondary" onclick="testStepUpdate()">
                ğŸ“‹ Step Update
            </button>
            <button class="demo-button" onclick="testTextUpdate()">
                âœï¸ Text Update
            </button>
            <button class="demo-button danger" onclick="hideAllLoading()">
                âŒ Hide All Loading
            </button>
        </div>
    </div>

    <div class="info-box">
        <h4>ğŸ” How to Test</h4>
        <p>
            <strong>Keyboard Shortcut:</strong> Press <code>ESC</code> to force-close any loading screen during development.<br>
            <strong>Console Logging:</strong> Open Developer Console (F12) to see detailed loading progress logs.<br>
            <strong>Multiple Loading:</strong> You can stack multiple loading screens - the system will manage them automatically.
        </p>
    </div>

    <div class="demo-section">
        <div class="demo-title">
            ğŸ“‹ Loading System Status
        </div>
        <div class="loading-info">
            <div class="loading-status">
                <div class="status-title">Current Loading</div>
                <div class="status-value" id="current-loading">None</div>
            </div>
            <div class="loading-status">
                <div class="status-title">Loading Stack</div>
                <div class="status-value" id="loading-stack">Empty</div>
            </div>
            <div class="loading-status">
                <div class="status-title">Is Loading</div>
                <div class="status-value" id="is-loading">false</div>
            </div>
            <div class="loading-status">
                <div class="status-title">Total Shown</div>
                <div class="status-value" id="total-shown">0</div>
            </div>
        </div>
    </div>

    <div class="controls-section">
        <h3>âš¡ Quick Actions</h3>
        <p><strong>ESC Key:</strong> Force close current loading | <strong>F12:</strong> Open console for logs</p>
        
        <div class="demo-buttons">
            <button class="demo-button secondary" onclick="refreshStatus()">
                ğŸ”„ Refresh Status
            </button>
            <button class="demo-button" onclick="runAllTests()">
                ğŸ§ª Run All Tests
            </button>
            <button class="demo-button warning" onclick="showLoadingInfo()">
                â„¹ï¸ Show Loading Info
            </button>
        </div>
    </div>

    <!-- Include loading system -->
    <script src="js/config.js"></script>
    <script src="js/loadingManager.js"></script>

    <script>
        let testCounter = 0;

        // Update status display
        function updateStatus() {
            if (typeof loadingManager !== 'undefined') {
                const info = loadingManager.getLoadingInfo();
                document.getElementById('current-loading').textContent = info.current || 'None';
                document.getElementById('loading-stack').textContent = info.stack.length > 0 ? 
                    info.stack.map(s => s.text).join(', ') : 'Empty';
                document.getElementById('is-loading').textContent = info.isLoading;
                document.getElementById('total-shown').textContent = testCounter;
            }
        }

        // Basic loading tests
        function testBasicLoading() {
            console.log('ğŸ§ª Testing basic loading...');
            const id = showLoading({
                text: 'Åadowanie podstawowe...',
                subtext: 'Test podstawowej funkcjonalnoÅ›ci',
                timeout: 3000
            });
            testCounter++;
            updateStatus();
        }

        function testQuickLoading() {
            console.log('ğŸ§ª Testing quick loading...');
            showQuickLoading('Szybkie Å‚adowanie...', 'Automatycznie zniknie za 3 sekundy');
            testCounter++;
            updateStatus();
        }

        function testCustomLoading() {
            console.log('ğŸ§ª Testing custom loading...');
            const id = showLoading({
                text: 'Niestandardowe Å‚adowanie',
                subtext: 'Z wÅ‚asnÄ… konfiguracjÄ…',
                progress: true,
                steps: [
                    { text: 'Krok pierwszy', status: 'completed' },
                    { text: 'Krok drugi', status: 'active' },
                    { text: 'Krok trzeci', status: '' }
                ],
                timeout: 5000
            });
            testCounter++;
            updateStatus();
        }

        function testLongLoading() {
            console.log('ğŸ§ª Testing long loading...');
            const id = showLoading({
                text: 'DÅ‚ugotrwaÅ‚e Å‚adowanie...',
                subtext: 'Test dÅ‚ugotrwaÅ‚ego procesu (8 sekund)',
                progress: true,
                timeout: 8000
            });
            testCounter++;
            updateStatus();
        }

        // Specialized loading tests
        function testDataLoading() {
            console.log('ğŸ§ª Testing data loading...');
            showDataLoading();
            testCounter++;
            updateStatus();
        }

        function testFormSubmission() {
            console.log('ğŸ§ª Testing form submission...');
            showFormSubmission();
            testCounter++;
            updateStatus();
        }

        function testAnalyticsLoading() {
            console.log('ğŸ§ª Testing analytics loading...');
            showAnalyticsLoading();
            testCounter++;
            updateStatus();
        }

        function testSimulatedProcess() {
            console.log('ğŸ§ª Testing simulated process...');
            if (typeof loadingManager !== 'undefined') {
                loadingManager.simulateDataLoading(4000);
                testCounter++;
                updateStatus();
            }
        }

        // Interactive controls
        function testProgressUpdate() {
            console.log('ğŸ§ª Testing progress update...');
            const id = showLoading({
                text: 'Test aktualizacji postÄ™pu',
                subtext: 'Obserwuj pasek postÄ™pu',
                progress: true
            });
            
            let progress = 0;
            const interval = setInterval(() => {
                progress += 20;
                updateLoadingProgress(id, progress);
                
                if (progress >= 100) {
                    clearInterval(interval);
                    setTimeout(() => hideLoading(id), 1000);
                }
            }, 500);
            
            testCounter++;
            updateStatus();
        }

        function testStepUpdate() {
            console.log('ğŸ§ª Testing step update...');
            const steps = [
                { text: 'Inicjalizacja...', status: 'active' },
                { text: 'Przetwarzanie...', status: '' },
                { text: 'Finalizacja...', status: '' },
                { text: 'UkoÅ„czone!', status: '' }
            ];
            
            const id = showLoading({
                text: 'Test aktualizacji krokÃ³w',
                subtext: 'Obserwuj zmiany krokÃ³w',
                steps: steps
            });
            
            let currentStep = 0;
            const interval = setInterval(() => {
                updateLoadingStep(id, currentStep, 'completed');
                currentStep++;
                
                if (currentStep < steps.length) {
                    updateLoadingStep(id, currentStep, 'active');
                } else {
                    clearInterval(interval);
                    setTimeout(() => hideLoading(id), 1500);
                }
            }, 1000);
            
            testCounter++;
            updateStatus();
        }

        function testTextUpdate() {
            console.log('ğŸ§ª Testing text update...');
            const id = showLoading({
                text: 'PoczÄ…tkowy tekst',
                subtext: 'PoczÄ…tkowy podtekst'
            });
            
            const texts = [
                { text: 'AktualizujÄ™ tekst...', subtext: 'Pierwszy update' },
                { text: 'Kolejna zmiana...', subtext: 'Drugi update' },
                { text: 'Prawie gotowe!', subtext: 'Ostatni update' },
                { text: 'UkoÅ„czone!', subtext: 'Proces zakoÅ„czony' }
            ];
            
            let textIndex = 0;
            const interval = setInterval(() => {
                if (textIndex < texts.length) {
                    updateLoadingText(id, texts[textIndex].text, texts[textIndex].subtext);
                    textIndex++;
                } else {
                    clearInterval(interval);
                    setTimeout(() => hideLoading(id), 1500);
                }
            }, 1200);
            
            testCounter++;
            updateStatus();
        }

        function hideAllLoading() {
            console.log('ğŸ§ª Hiding all loading screens...');
            hideLoading();
            updateStatus();
        }

        // Utility functions
        function refreshStatus() {
            updateStatus();
            console.log('ğŸ“Š Status refreshed');
        }

        function runAllTests() {
            console.log('ğŸ§ª Running all tests sequentially...');
            
            const tests = [
                () => testBasicLoading(),
                () => setTimeout(testDataLoading, 1000),
                () => setTimeout(testFormSubmission, 2000),
                () => setTimeout(testAnalyticsLoading, 3000),
                () => setTimeout(testProgressUpdate, 4000),
                () => setTimeout(() => console.log('âœ… All tests completed!'), 8000)
            ];
            
            tests.forEach(test => test());
        }

        function showLoadingInfo() {
            if (typeof loadingManager !== 'undefined') {
                const info = loadingManager.getLoadingInfo();
                console.log('ğŸ“Š Loading System Info:', info);
                alert(`Loading Info:\nCurrent: ${info.current || 'None'}\nStack: ${info.stack.length} items\nIs Loading: ${info.isLoading}`);
            }
        }

        // Auto-update status every 2 seconds
        setInterval(updateStatus, 2000);

        // Initialize
        window.addEventListener('load', () => {
            console.log('ğŸ‰ Loading Screen Demo ready!');
            updateStatus();
        });
    </script>
</body>
</html>
